!function(e,t,a){"use strict";const n={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},r={ariaLabel:{type:String},ariaDescribedby:{type:String}},o={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...n,...r},s="2"===a.version[0]?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function l(e){return a.isProxy(e)?a.toRaw(e):e}function u(e,t){e.labels=t}function i(e,t,a){const n=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[a]===t[a]));return r&&t.data&&!n.includes(r)?(n.push(r),Object.assign(r,t),r):{...t}}))}const d=a.defineComponent({props:o,setup(e,n){let{expose:r,slots:o}=n;const s=a.ref(null),d=a.shallowRef(null);r({chart:d});return a.onMounted((()=>{if(!s.value)return;const{type:n,data:r,options:o,plugins:l,datasetIdKey:c}=e,p=function(e,t){const a={labels:[],datasets:[]};return u(a,e.labels),i(a,e.datasets,t),a}(r,c),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return a.isProxy(t)?new Proxy(e,{}):e}(p,r);d.value=new t.Chart(s.value,{type:n,data:f,options:{...o},plugins:l})})),a.onUnmounted((()=>{const t=a.toRaw(d.value);t&&(e.destroyDelay>0?setTimeout((()=>{t.destroy(),d.value=null}),e.destroyDelay):(t.destroy(),d.value=null))})),a.watch([()=>e.options,()=>e.data],((t,n)=>{let[r,o]=t,[s,c]=n;const p=a.toRaw(d.value);if(!p)return;let f=!1;if(r){const e=l(r),t=l(s);e&&e!==t&&(!function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(p,e),f=!0)}if(o){const t=l(o.labels),a=l(c.labels),n=l(o.datasets),r=l(c.datasets);t!==a&&(u(p.config.data,t),f=!0),n&&n!==r&&(i(p.config.data,n,e.datasetIdKey),f=!0)}f&&a.nextTick((()=>{(t=>{t.update(e.updateMode)})(p)}))}),{deep:!0}),()=>a.h("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:s},[a.h("p",{},[o.default?o.default():""])])}});function c(e,r){return t.Chart.register(r),a.defineComponent({props:n,setup(t,n){let{expose:r}=n;const o=a.shallowRef(null),l=e=>{o.value=e?.chart};return r({chart:o}),()=>a.h(d,s({ref:l},{type:e,...t}))}})}const p=c("bar",t.BarController),f=c("doughnut",t.DoughnutController),y=c("line",t.LineController),b=c("pie",t.PieController),g=c("polarArea",t.PolarAreaController),h=c("radar",t.RadarController),v=c("bubble",t.BubbleController),C=c("scatter",t.ScatterController);e.Bar=p,e.Bubble=v,e.Chart=d,e.Doughnut=f,e.Line=y,e.Pie=b,e.PolarArea=g,e.Radar=h,e.Scatter=C,e.createTypedChart=c,e.getDatasetAtEvent=function(e,t){return e.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1)},e.getElementAtEvent=function(e,t){return e.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1)},e.getElementsAtEvent=function(e,t){return e.getElementsAtEventForMode(t,"index",{intersect:!0},!1)}}({},Chart,Vue);
